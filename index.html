<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Latyfa shop.com | Luxe & Sourcing</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #fcfcfc; overflow-x: hidden; }
        .marquee-container { background: linear-gradient(90deg, #000, #ff4d00, #000); color: white; padding: 10px 0; font-weight: 900; font-size: 11px; overflow: hidden; border-bottom: 2px solid #ff9000; }
        .marquee-text { display: inline-block; padding-left: 100%; animation: marquee 25s linear infinite; white-space: nowrap; }
        @keyframes marquee { 0% { transform: translate(0, 0); } 100% { transform: translate(-100%, 0); } }
        
        #side-menu { transform: translateX(-100%); transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1); z-index: 1001; }
        #side-menu.active { transform: translateX(0); }
        .menu-overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 1000; backdrop-blur: 2px; }
        .menu-overlay.active { display: block; }

        .layer { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.85); z-index: 9999; padding: 15px; }
        .layer.active { display: flex; align-items: center; justify-content: center; }
        
        @keyframes cart-pop { 0% { transform: scale(1); } 50% { transform: scale(1.4); background: #ff4d00; } 100% { transform: scale(1); } }
        .cart-animate { animation: cart-pop 0.5s ease-out; }
        .flying-particle { position: fixed; width: 25px; height: 25px; background: #ff4d00; border-radius: 50%; z-index: 2000; pointer-events: none; transition: all 0.7s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        
        .promo-banner-inline { grid-column: 1 / -1; background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), url('https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800'); background-size: cover; background-position: center; border-radius: 20px; padding: 35px 20px; text-align: center; color: white; margin: 15px 0; border: 1px solid #ff4d00; }
        #timer-bar { height: 4px; background: #ff4d00; width: 100%; transition: width 1s linear; border-radius: 2px; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="pb-10">

    <div class="marquee-container shadow-lg">
        <div class="marquee-text uppercase">
            üåü BIENVENUE SUR LATYFA SHOP.COM ‚Ä¢ PROMO DU 14 AU 28 F√âVRIER : -15% D√àS 20.000 F ! ‚Ä¢ LIVRAISON R√âDUITE √Ä 1000 F VIA WAVE ! ‚Ä¢ RETRAIT √Ä ABOBO MARCH√â NUIT ‚Ä¢ üåü
        </div>
    </div>

    <header class="sticky top-0 z-[100] bg-white/95 backdrop-blur-md p-4 border-b flex items-center justify-between">
        <div class="flex items-center gap-4">
            <button onclick="toggleMenu()" class="text-2xl p-1">‚ò∞</button>
            <div onclick="location.reload()" class="flex items-center gap-2 cursor-pointer">
                <div class="bg-orange-600 text-white font-black px-2 py-0.5 rounded text-sm shadow-sm">L</div>
                <h1 class="font-black text-lg tracking-tighter uppercase italic">Latyfa<span class="text-orange-500">shop.com</span></h1>
            </div>
        </div>
        <button onclick="showCart()" id="cart-icon-container" class="relative bg-black text-white p-2.5 rounded-full shadow-lg transition-all">
            <span class="text-xl">üõí</span>
            <span id="cart-count" class="absolute -top-1 -right-1 bg-orange-500 text-white text-[9px] font-bold h-5 w-5 flex items-center justify-center rounded-full border-2 border-white">0</span>
        </button>
    </header>

    <div id="menu-overlay" onclick="toggleMenu()" class="menu-overlay"></div>
    <div id="side-menu" class="fixed top-0 left-0 h-full w-72 bg-white p-6 shadow-2xl flex flex-col">
        <div class="flex justify-between items-center mb-8">
            <h2 class="font-black text-orange-600 italic text-xl uppercase tracking-tighter">Information</h2>
            <button onclick="toggleMenu()" class="text-2xl">‚úï</button>
        </div>
        <nav class="space-y-6 flex-1 text-sm font-bold">
            <button onclick="openInfo('about')" class="block w-full text-left border-b border-gray-50 pb-3">üìñ √Ä propos</button>
            <button onclick="openInfo('policy')" class="block w-full text-left border-b border-gray-50 pb-3">üõ°Ô∏è Politique de retour</button>
            <div class="pt-4 space-y-4">
                <p class="text-[10px] text-gray-400 font-black tracking-widest uppercase">Suivez-nous</p>
                <div class="flex flex-col gap-4 text-xs">
                    <a href="#" class="hover:text-orange-500 transition">üîµ Facebook</a>
                    <a href="#" class="hover:text-orange-500 transition">üì∏ Instagram</a>
                    <a href="https://wa.me/2250709002881" class="text-green-600 font-bold">üí¨ WhatsApp Service</a>
                </div>
            </div>
        </nav>
        <div class="pt-6 border-t text-[10px] text-gray-400 font-bold uppercase tracking-tighter">
            ¬© 2026 LATYFA SHOP.COM<br>TOUS DROITS R√âSERV√âS.
        </div>
    </div>

    <div id="modal-info" class="layer">
        <div class="bg-white w-full max-w-md rounded-3xl p-8 relative shadow-2xl">
            <button onclick="closeModals()" class="absolute top-4 right-4 text-xl">‚úï</button>
            <h2 id="info-title" class="font-black text-xl mb-4 text-orange-600 uppercase italic border-b pb-2"></h2>
            <div id="info-content" class="text-[11px] leading-relaxed text-gray-700 space-y-4 max-h-[60vh] overflow-y-auto pr-2"></div>
        </div>
    </div>

    <div class="flex gap-3 overflow-x-auto p-4 bg-white sticky top-[68px] z-40 border-b no-scrollbar">
        <button onclick="filterCat('Tous')" class="cat-pill bg-black text-white px-6 py-2 rounded-xl text-[10px] font-black uppercase shrink-0">Tout</button>
        <button onclick="filterCat('V√™tement')" class="cat-pill bg-gray-100 px-6 py-2 rounded-xl text-[10px] font-black uppercase shrink-0">V√™tements</button>
        <button onclick="filterCat('Chaussures')" class="cat-pill bg-gray-100 px-6 py-2 rounded-xl text-[10px] font-black uppercase shrink-0">Chaussures</button>
    </div>

    <main id="grid" class="p-4 grid grid-cols-2 md:grid-cols-4 gap-4"></main>

    <div id="modal-cart" class="layer">
        <div class="bg-white w-full max-w-md rounded-3xl p-6 relative max-h-[90vh] overflow-y-auto shadow-2xl">
            <button onclick="closeModals()" class="absolute top-4 right-4 text-xl">‚úï</button>
            <h2 class="font-black text-xl mb-6 text-orange-600 uppercase italic">Mon Panier</h2>
            <div id="cart-items" class="space-y-3 mb-6"></div>

            <div class="bg-gray-50 p-4 rounded-2xl mb-4 border border-gray-100">
                <div class="flex justify-between items-center mb-2">
                    <p class="text-[9px] font-black uppercase text-gray-400">Code Promotionnel</p>
                    <div id="promo-timer-text" class="text-[10px] font-black text-orange-600 hidden">Expire dans : <span id="timer-count">15:00</span></div>
                </div>
                <div class="flex gap-2">
                    <input type="text" id="promo-input" placeholder="ENTREZ LE CODE" class="flex-1 bg-white border border-gray-200 rounded-xl px-4 py-3 text-xs font-bold outline-none uppercase focus:border-orange-500">
                    <button onclick="applyPromo()" class="bg-orange-600 text-white px-4 py-2 rounded-xl text-[9px] font-black uppercase">V√©rifier</button>
                </div>
                <div id="timer-container" class="mt-3 hidden">
                    <div class="w-full bg-gray-200 rounded-full h-1">
                        <div id="timer-bar"></div>
                    </div>
                </div>
                <div id="promo-msg" class="text-[9px] font-bold mt-2 text-center"></div>
            </div>

            <div class="border-t pt-4 space-y-4">
                <div class="bg-black text-white p-5 rounded-2xl shadow-inner">
                    <div class="flex justify-between text-[10px] font-bold opacity-60 uppercase mb-1">
                        <span>Articles</span>
                        <span id="sub-total">0 F</span>
                    </div>
                    <div id="promo-line" class="flex justify-between text-[10px] font-black text-orange-400 uppercase mb-2 hidden">
                        <span>R√©duction Code</span>
                        <span id="promo-amount">- 0 F</span>
                    </div>
                    <div class="flex justify-between font-black text-xl border-t border-white/10 pt-2">
                        <span class="text-xs uppercase self-center">Total Final</span>
                        <span id="final-total">0 F</span>
                    </div>
                </div>
                <select id="method-select" onchange="updateCartUI()" class="w-full p-4 bg-gray-100 rounded-2xl text-[10px] font-black outline-none border-none">
                    <option value="Standard">Livraison Standard (+1.500 F)</option>
                    <option value="Wave">Paiement Wave (+1.000 F Livraison)</option>
                    <option value="Boutique">Retrait Abobo March√© Nuit (0 F)</option>
                </select>
                <input type="text" id="c-nom" placeholder="VOTRE NOM COMPLET" class="w-full p-4 bg-gray-50 rounded-2xl text-sm font-bold border border-transparent focus:border-black outline-none">
                <button onclick="handleCheckout()" class="w-full bg-orange-600 text-white py-5 rounded-2xl font-black uppercase text-xs tracking-widest shadow-lg active:scale-95 transition">Valider & Commander</button>
            </div>
        </div>
    </div>

    <script>
        const products = [
            { id: 1, cat: "V√™tement", nom: "Robe Satin Royale", prix: 45000, img: "https://images.unsplash.com/photo-1595777457583-95e059d581b8?w=500" },
            { id: 2, cat: "Chaussures", nom: "Escarpins Crystal Luxe", prix: 35000, img: "https://images.unsplash.com/photo-1535043934128-cf0b28d52f95?w=500" },
            { id: 3, cat: "Accessoire", nom: "Sac Croco Signature", prix: 28000, img: "https://images.unsplash.com/photo-1584917865442-de89df76afd3?w=500" },
            { id: 4, cat: "V√™tement", nom: "Ensemble Soie Duba√Ø", prix: 55000, img: "https://images.unsplash.com/photo-1561932850-f13404855e53?w=500" }
        ];

        const PROMO_CODES = { "NEW570": 500, "LATYF@SHOP": 1000, "THANKS": 1250, "SOLDOUT": 1500 };
        
        const INFO_TEXTS = {
            about: { 
                title: "√Ä Propos", 
                content: `Bienvenue chez <b>Latyfa Shop.com</b>, votre destination de choix pour le luxe et l'√©l√©gance √† Abidjan. <br><br>
                Notre boutique est n√©e d'une passion pour le sourcing d'articles exceptionnels. Nous parcourons les march√©s les plus prestigieux de <b>Duba√Ø</b> et de <b>Turquie</b> pour vous apporter des pi√®ces uniques : v√™tements de haute couture, chaussures raffin√©es et accessoires de luxe. <br><br>
                üìç Retrouvez-nous physiquement √† <b>Abobo March√© Nuit</b> pour vos retraits.<br>
                ‚ú® Notre engagement : Authenticit√©, Qualit√© Premium et Service Client irr√©prochable.`
            },
            policy: { 
                title: "Politique de Retour", 
                content: `‚Ä¢ Les articles peuvent √™tre retourn√©s ou √©chang√©s sous <b>48 heures</b> apr√®s r√©ception.<br>
                ‚Ä¢ Les produits doivent √™tre <b>non port√©s</b>, non lav√©s et dans leur emballage d'origine.<br>
                ‚Ä¢ Les frais de livraison pour le retour sont √† la charge du client, sauf en cas d'erreur de notre part.<br>
                ‚Ä¢ Pour tout d√©faut constat√©, veuillez nous contacter imm√©diatement via WhatsApp avec une photo.`
            }
        };

        let cart = [];
        let currentCat = "Tous";
        let activeDiscount = 0;
        let timerInterval = null;

        function render() {
            const grid = document.getElementById('grid');
            let html = "";
            products.filter(p => currentCat === "Tous" || p.cat === currentCat).forEach((p, idx) => {
                html += `<div class="bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-100" onclick="addToCartAnimation(event, ${p.id})">
                    <img src="${p.img}" class="w-full aspect-square object-cover">
                    <div class="p-3"><h3 class="text-[10px] font-black uppercase text-gray-500 truncate">${p.nom}</h3>
                    <p class="text-orange-600 font-black text-xs">${p.prix.toLocaleString()} F</p></div></div>`;
                if(idx === 1) html += `<div class="promo-banner-inline"><h2 class="text-xl font-black italic uppercase">Luxe & Sourcing</h2><p class="text-[9px] mt-1 opacity-80 uppercase">Import Turquie & Duba√Ø</p></div>`;
            });
            grid.innerHTML = html;
        }

        function openInfo(type) {
            document.getElementById('info-title').innerText = INFO_TEXTS[type].title;
            document.getElementById('info-content').innerHTML = INFO_TEXTS[type].content;
            document.getElementById('modal-info').classList.add('active');
            document.getElementById('side-menu').classList.remove('active');
            document.getElementById('menu-overlay').classList.remove('active');
        }

        function addToCartAnimation(e, id) {
            const icon = document.getElementById('cart-icon-container');
            const rect = e.currentTarget.getBoundingClientRect();
            const part = document.createElement('div');
            part.className = 'flying-particle';
            part.style.left = `${rect.left + rect.width/2}px`; part.style.top = `${rect.top + rect.height/2}px`;
            document.body.appendChild(part);
            setTimeout(() => { 
                const cRect = icon.getBoundingClientRect();
                part.style.left = `${cRect.left + cRect.width/2}px`; part.style.top = `${cRect.top + cRect.height/2}px`; part.style.transform = 'scale(0.1)'; part.style.opacity = '0';
            }, 50);
            setTimeout(() => { part.remove(); cart.push(products.find(x => x.id === id)); document.getElementById('cart-count').innerText = cart.length; icon.classList.add('cart-animate'); setTimeout(()=>icon.classList.remove('cart-animate'), 500); }, 700);
        }

        function applyPromo() {
            if(timerInterval) clearInterval(timerInterval);
            const input = document.getElementById('promo-input').value.trim();
            const msg = document.getElementById('promo-msg');
            if (PROMO_CODES[input]) {
                activeDiscount = PROMO_CODES[input];
                msg.innerText = "‚úÖ R√âDUCTION APPLIQU√âE !"; msg.className = "text-[9px] font-black mt-2 text-green-600";
                startTimer(15 * 60); updateCartUI();
            } else { activeDiscount = 0; msg.innerText = "‚ùå CODE INVALIDE."; msg.className = "text-[9px] font-black mt-2 text-red-600"; updateCartUI(); }
        }

        function startTimer(duration) {
            let timer = duration;
            document.getElementById('timer-container').classList.remove('hidden');
            document.getElementById('promo-timer-text').classList.remove('hidden');
            timerInterval = setInterval(() => {
                let m = parseInt(timer / 60, 10);
                let s = parseInt(timer % 60, 10);
                document.getElementById('timer-count').innerText = `${m < 10 ? "0" : ""}${m}:${s < 10 ? "0" : ""}${s}`;
                document.getElementById('timer-bar').style.width = (timer / duration * 100) + "%";
                if (--timer < 0) { clearInterval(timerInterval); activeDiscount = 0; updateCartUI(); }
            }, 1000);
        }

        function updateCartUI() {
            const m = document.getElementById('method-select').value;
            const sub = cart.reduce((s, i) => s + i.prix, 0);
            const ship = (m === "Standard") ? 1500 : (m === "Wave") ? 1000 : 0;
            document.getElementById('sub-total').innerText = sub.toLocaleString() + " F";
            if(activeDiscount > 0) {
                document.getElementById('promo-line').classList.remove('hidden');
                document.getElementById('promo-amount').innerText = "- " + activeDiscount.toLocaleString() + " F";
            } else { document.getElementById('promo-line').classList.add('hidden'); }
            document.getElementById('final-total').innerText = Math.max(0, (sub - activeDiscount) + ship).toLocaleString() + " F";
            document.getElementById('cart-items').innerHTML = cart.length ? cart.map((i, idx) => `<div class="flex justify-between items-center bg-gray-50 p-2 rounded-xl text-[10px] font-black uppercase"><span>${i.nom}</span><button onclick="removeFromCart(${idx})" class="text-red-500 px-2">‚úï</button></div>`).join('') : "<p class='text-center py-4 text-xs text-gray-400 font-bold uppercase'>Panier Vide</p>";
        }

        function removeFromCart(idx) { cart.splice(idx, 1); if(cart.length === 0) { activeDiscount = 0; clearInterval(timerInterval); } updateCartUI(); }
        function toggleMenu() { document.getElementById('side-menu').classList.toggle('active'); document.getElementById('menu-overlay').classList.toggle('active'); }
        function showCart() { document.getElementById('modal-cart').classList.add('active'); updateCartUI(); }
        function closeModals() { document.querySelectorAll('.layer').forEach(l => l.classList.remove('active')); }
        function filterCat(c) { currentCat = c; render(); }
        
        function handleCheckout() {
            if(!document.getElementById('c-nom').value || cart.length === 0) return alert("Infos manquantes !");
            const total = document.getElementById('final-total').innerText;
            const secCode = "LAT-" + Math.random().toString(36).substr(2, 4).toUpperCase();
            let msg = `üåü COMMANDE LATYFA üåü\nüÜî ID: ${secCode}\nüë§ CLIENT: ${document.getElementById('c-nom').value}\nüí∞ TOTAL: ${total}`;
            window.open(`https://wa.me/2250709002881?text=${encodeURIComponent(msg)}`);
            cart = []; activeDiscount = 0; clearInterval(timerInterval); document.getElementById('cart-count').innerText = "0"; closeModals();
        }
        render();
    </script>
</body>
</html>
