<!DOCTYPE html>
<html lang="fr" translate="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LATYFA BOUTIQUE | Officiel</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,900;1,900&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { 
            --latyfa-gold: #c5a059; --latyfa-dark: #1a1a1a; --latyfa-accent: #ff6600; 
        }
        body { background-color: #fcfcfc; font-family: 'Montserrat', sans-serif; margin: 0; scroll-behavior: smooth; }
        .logo-font { font-family: 'Playfair Display', serif; }
        .ali-gradient { background: linear-gradient(90deg, var(--latyfa-gold) 0%, #e2c286 100%); }
        .product-card { background: white; border-radius: 8px; transition: 0.2s; display: flex; flex-direction: column; height: 100%; border: 1px solid transparent; }
        .product-card:hover { border-color: var(--latyfa-gold); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: white; overflow-y: auto; padding: 20px; }
        .modal.active { display: block; }
        .loader-hidden { opacity: 0; pointer-events: none; }
        @keyframes loading { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }
        @keyframes marquee { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
        .animate-marquee { display: inline-block; animation: marquee 25s linear infinite; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .wheel-mask { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 2000; align-items: center; justify-content: center; backdrop-filter: blur(8px); }
        .wheel-mask.active { display: flex; }
    </style>
</head>
<body>

<div id="loader" class="fixed inset-0 bg-[#1a1a1a] z-[3000] flex flex-col items-center justify-center transition-opacity duration-700">
    <img src="https://i.postimg.cc/qMqtFGM2/1770342273452.png" class="h-24 w-24 rounded-full border-2 border-[#c5a059] animate-pulse">
    <div class="mt-6 flex flex-col items-center">
        <span class="logo-font text-2xl text-[#c5a059] italic">LATYFA SHOP</span>
        <div class="w-32 h-[1px] bg-gray-800 mt-3 relative overflow-hidden">
            <div class="absolute inset-0 bg-[#c5a059] animate-[loading_1.5s_ease-in-out_infinite]"></div>
        </div>
    </div>
</div>

<div id="toast" class="fixed top-20 left-1/2 -translate-x-1/2 bg-black/90 text-[#c5a059] px-6 py-3 rounded-full text-[10px] font-bold uppercase z-[2000] opacity-0 transition-opacity duration-300 pointer-events-none">
    ‚ú® Produit ajout√© au panier
</div>

<div class="bg-[#1a1a1a] text-[#c5a059] text-center py-2.5 text-[10px] font-bold border-b border-[#c5a059]/30 tracking-[0.15em] uppercase">
    ‚ú® Promo Valentin -20% d√®s 20.000 F : <span id="countdown" class="text-white ml-1">--:--:--</span> ‚ú®
</div>

<header class="bg-white shadow-sm sticky top-0 z-50">
    <div class="container mx-auto px-4 py-3 flex items-center justify-between">
        <div class="flex items-center gap-2">
            <img src="https://i.postimg.cc/qMqtFGM2/1770342273452.png" class="h-10 w-10 rounded-full">
            <span class="text-2xl font-black italic logo-font text-[#c5a059]">LATYFA SHOP</span>
        </div>
        <div class="flex gap-6">
            <div onclick="ouvrirPanier()" class="text-center cursor-pointer relative">
                <i class="fa-solid fa-cart-shopping text-gray-600"></i>
                <span id="cart-count" class="absolute -top-2 -right-2 bg-[#ff6600] text-white text-[10px] rounded-full px-1.5 font-bold">0</span>
                <p class="text-[9px] font-bold uppercase">Panier</p>
            </div>
        </div>
    </div>
</header>

<div class="container mx-auto px-4 py-3">
    <div class="relative">
        <input type="text" id="search-input" oninput="rechercherProduit()" placeholder="Rechercher un article..." 
               class="w-full bg-gray-100 border-none rounded-full py-2 px-10 text-xs outline-none">
        <i class="fa-solid fa-magnifying-glass absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-xs"></i>
    </div>
</div>

<section class="relative w-full h-[300px] bg-black overflow-hidden">
    <img src="https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=1200" class="w-full h-full object-cover opacity-60">
    <div class="absolute inset-0 flex flex-col items-center justify-center text-center px-6">
        <h1 class="text-white text-4xl font-black italic uppercase">L'√âl√©gance √† l'Ivoirienne</h1>
        <a href="#collection" class="mt-6 bg-[#ff6600] text-white px-8 py-3 rounded-full font-black text-xs uppercase">D√©couvrir</a>
    </div>
</section>

<div id="collection" class="container mx-auto px-4 py-12 flex flex-col md:flex-row gap-8">
    <aside class="w-full md:w-64">
        <h3 class="logo-font font-black border-b-2 border-[#c5a059] pb-3 mb-6 text-[13px] uppercase">Nos Univers</h3>
        <div class="flex flex-col gap-4 text-[11px] font-bold uppercase text-gray-500">
            <span class="cursor-pointer hover:text-[#c5a059]" onclick="render('tous')">Tout voir</span>
            <span class="cursor-pointer hover:text-[#c5a059]" onclick="render('bijoux')">Bijoux</span>
            <span class="cursor-pointer hover:text-[#c5a059]" onclick="render('sac')">Sacs</span>
            <span class="cursor-pointer hover:text-[#c5a059]" onclick="render('parfum')">Parfums</span>
        </div>
    </aside>
    <main class="flex-1">
        <div class="grid grid-cols-2 lg:grid-cols-3 gap-6" id="product-grid"></div>
    </main>
</div>

<div id="productDetailModal" class="modal">
    <div class="max-w-2xl mx-auto">
        <button onclick="document.getElementById('productDetailModal').classList.remove('active')" class="mb-6 text-gray-500 font-bold uppercase text-[10px]">‚Üê Retour</button>
        <div class="flex flex-col md:flex-row gap-8">
            <div class="md:w-1/2">
                <div id="media-container">
                    <img id="main-detail-img" src="" class="w-full h-80 object-cover rounded-xl shadow-md">
                </div>
                <div id="thumbnails" class="flex gap-2 mt-4 overflow-x-auto no-scrollbar"></div>
            </div>
            <div class="md:w-1/2">
                <h2 id="detail-name" class="text-2xl font-black uppercase italic text-gray-800"></h2>
                <p id="detail-price" class="text-[#ff6600] font-black text-2xl mt-2"></p>
                <p id="detail-desc" class="text-xs text-gray-600 mt-4 leading-relaxed"></p>
                
                <div id="options-area" class="my-6 space-y-4">
                    <div id="size-area" class="hidden">
                        <label class="text-[10px] font-black uppercase text-gray-400">Taille</label>
                        <select id="select-size" class="w-full border p-3 rounded-lg text-sm bg-gray-50"></select>
                    </div>
                </div>

                <button onclick="ajouterDepuisDetail()" class="w-full ali-gradient text-white py-4 rounded-xl font-black uppercase text-[11px] shadow-lg">Ajouter au panier</button>
            </div>
        </div>
    </div>
</div>

<div id="cartModal" class="modal">
    <div class="max-w-md mx-auto">
        <h2 class="text-xl font-bold mb-6 text-center text-[#ff6600] uppercase italic">Ma Commande</h2>
        <div id="cart-items" class="space-y-4 mb-6"></div>
        
        <div id="checkout-form" class="space-y-4">
            <input type="text" id="nom-client" placeholder="Nom Complet *" class="w-full border p-3 rounded-lg text-sm">
            <select id="zone-livraison" onchange="majResume()" class="w-full border p-3 rounded-lg text-sm font-bold">
                <option value="">-- ZONE DE LIVRAISON --</option>
                <option value="abidjan_nord">Abidjan Nord (1.500 F)</option>
                <option value="abidjan_sud">Abidjan Sud (2.000 F)</option>
                <option value="interieur">Int√©rieur pays (3.000 F)</option>
                <option value="bouake">Retrait Boutique (Gratuit)</option>
            </select>
            <input type="text" id="tel-client" placeholder="Quartier et T√©l√©phone *" class="w-full border p-3 rounded-lg text-sm">
            
            <div id="resume-final" class="p-4 bg-orange-50 rounded-lg text-[10px] font-bold uppercase space-y-1"></div>
            <div class="text-xl font-bold border-t pt-2 flex justify-between">
                <span>TOTAL :</span> <span id="total-display" class="text-red-600">0</span> F
            </div>
            
            <button onclick="validerCommande()" class="w-full ali-gradient text-white py-4 rounded-full font-black uppercase shadow-lg mt-4">Commander sur WhatsApp</button>
        </div>
        <button onclick="document.getElementById('cartModal').classList.remove('active')" class="w-full mt-6 text-gray-400 text-[10px] uppercase font-bold underline">Continuer mes achats</button>
    </div>
</div>

<div class="wheel-mask">
    <div class="wheel-box bg-white p-8 rounded-3xl text-center relative max-w-sm w-full mx-4 border-4 border-[#c5a059]">
        <button onclick="document.querySelector('.wheel-mask').classList.remove('active')" class="absolute top-4 right-4 font-bold">‚úï</button>
        <h3 class="logo-font text-xl font-black mb-4">LUCKY WHEEL</h3>
        <p id="wheel-msg" class="text-[10px] font-bold text-blue-600 mb-4"></p>
        <canvas id="canvas" width="300" height="300" class="mx-auto"></canvas>
        <button id="spin" class="w-full bg-black text-white py-3 rounded-full font-black mt-4">TENTER MA CHANCE</button>
    </div>
</div>

<button onclick="document.querySelector('.wheel-mask').classList.add('active')" class="fixed bottom-6 right-6 h-14 w-14 bg-black text-white rounded-full shadow-2xl z-40 flex items-center justify-center border-2 border-[#c5a059]">
    <i class="fa-solid fa-gift text-[#c5a059] text-2xl"></i>
</button>

<div id="adminModal" class="modal bg-gray-50">
    <div class="max-w-xl mx-auto py-10">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-xl font-black uppercase">Gestion Boutique</h2>
            <button onclick="document.getElementById('adminModal').classList.remove('active')" class="text-2xl">&times;</button>
        </div>
        <div class="bg-white p-6 rounded-xl border mb-6">
            <input type="text" id="adm-name" placeholder="Nom produit" class="w-full border p-2 mb-2 rounded">
            <input type="number" id="adm-price" placeholder="Prix" class="w-full border p-2 mb-2 rounded">
            <input type="text" id="adm-img" placeholder="Lien image" class="w-full border p-2 mb-2 rounded">
            <button onclick="ajouterProduitAdmin()" class="w-full bg-black text-white py-2 rounded font-bold">AJOUTER</button>
        </div>
        <div id="admin-list" class="space-y-2"></div>
    </div>
</div>

<div onclick="ouvrirAdmin()" class="fixed bottom-0 left-0 w-10 h-10 opacity-0 z-[100] cursor-default"></div>

<footer class="bg-white border-t py-10 text-center">
    <div class="flex flex-col items-center">
        <div class="flex items-center gap-2 text-[#c5a059] font-black">
            <i class="fa-solid fa-eye text-xs"></i>
            <span id="visitor-count">0</span>
        </div>
        <p class="text-[8px] text-gray-400 uppercase tracking-widest mt-1">Visiteurs ont explor√© Latyfa Shop</p>
    </div>
</footer>

<script>
    // --- 1. DONN√âES ET VARIABLES ---
    let products = JSON.parse(localStorage.getItem('latyfa_db')) || [
        { id: 1, cat: "sac", name: "Sac Prestige Latyfa", price: 45000, images: ["https://images.unsplash.com/photo-1584917865442-de89df76afd3?w=500"], enStock: true, description: "Cuir Premium finition luxe." },
        { id: 2, cat: "bijoux", name: "Collier Perle Royale", price: 25000, images: ["https://images.unsplash.com/photo-1515562141207-7a18b5ce7142?w=500"], enStock: true, description: "Finition Or 24K." }
    ];

    let cart = JSON.parse(localStorage.getItem('latyfa_cart')) || [];
    let currentProduct = null;
    const tarifsLivraison = {
        "abidjan_nord": { nom: "Abidjan Nord", prix: 1500 },
        "abidjan_sud": { nom: "Abidjan Sud", prix: 2000 },
        "interieur": { nom: "Int√©rieur CI", prix: 3000 },
        "bouake": { nom: "Retrait Boutique", prix: 0 }
    };

    // --- 2. FONCTIONS BOUTIQUE ---
    function render(filter = 'tous') {
        const grid = document.getElementById('product-grid');
        const items = products.filter(p => filter === 'tous' || p.cat === filter);
        grid.innerHTML = items.map(p => `
            <div class="product-card p-3 relative ${!p.enStock ? 'opacity-60' : ''}" onclick="${p.enStock ? 'voirDetails('+p.id+')' : ''}">
                <img src="${p.images[0]}" class="h-40 w-full object-cover rounded mb-2">
                <h3 class="text-[10px] font-bold uppercase h-8 overflow-hidden">${p.name}</h3>
                <p class="text-[#c5a059] font-black">${p.price.toLocaleString()} F</p>
                <div class="mt-2 text-[8px] font-bold text-center bg-gray-50 py-1 rounded">VOIR L'ARTICLE</div>
            </div>
        `).join('');
    }

    function voirDetails(id) {
        const p = products.find(x => x.id === id);
        currentProduct = p;
        document.getElementById('detail-name').innerText = p.name;
        document.getElementById('detail-price').innerText = p.price.toLocaleString() + " F";
        document.getElementById('detail-desc').innerText = p.description;
        document.getElementById('main-detail-img').src = p.images[0];
        document.getElementById('productDetailModal').classList.add('active');
    }

    function ajouterDepuisDetail() {
        const label = currentProduct.name;
        const index = cart.findIndex(x => x.label === label);
        if(index > -1) cart[index].qty++; else cart.push({...currentProduct, label, qty: 1});
        updateCartCount();
        document.getElementById('productDetailModal').classList.remove('active');
        const toast = document.getElementById('toast');
        toast.classList.remove('opacity-0');
        setTimeout(() => toast.classList.add('opacity-0'), 2000);
    }

    function updateCartCount() {
        const count = cart.reduce((a, b) => a + b.qty, 0);
        document.getElementById('cart-count').innerText = count;
        localStorage.setItem('latyfa_cart', JSON.stringify(cart));
    }

    // --- 3. PANIER ET COMMANDE ---
    function ouvrirPanier() {
        document.getElementById('cartModal').classList.add('active');
        const itemsDiv = document.getElementById('cart-items');
        if(cart.length === 0) {
            itemsDiv.innerHTML = "<p class='text-center text-xs py-10'>Votre panier est vide</p>";
            return;
        }
        itemsDiv.innerHTML = cart.map(item => `
            <div class="flex justify-between items-center text-[10px] font-bold border-b pb-2">
                <span>${item.label} (x${item.qty})</span>
                <span>${(item.price * item.qty).toLocaleString()} F</span>
            </div>
        `).join('');
        majResume();
    }

    function majResume() {
        const zone = document.getElementById('zone-livraison').value;
        const frais = zone ? tarifsLivraison[zone].prix : 0;
        const totalArt = cart.reduce((a, b) => a + (b.price * b.qty), 0);
        document.getElementById('resume-final').innerHTML = `
            <div class="flex justify-between"><span>Articles:</span> <span>${totalArt.toLocaleString()} F</span></div>
            <div class="flex justify-between"><span>Livraison:</span> <span>${frais.toLocaleString()} F</span></div>
        `;
        document.getElementById('total-display').innerText = (totalArt + frais).toLocaleString();
    }

    function validerCommande() {
        const nom = document.getElementById('nom-client').value;
        const total = document.getElementById('total-display').innerText;
        if(!nom || cart.length === 0) return alert("Infos manquantes");
        
        let list = ""; cart.forEach(i => list += `- ${i.label} (x${i.qty})\n`);
        let msg = `‚ú® *COMMANDE LATYFA SHOP*\n\nüë§ Client: ${nom}\nüì¶ Articles:\n${list}\nüí∞ TOTAL: ${total} F`;
        window.open("https://wa.me/2250709002881?text=" + encodeURIComponent(msg));
        
        cart = []; updateCartCount();
        document.getElementById('cartModal').classList.remove('active');
    }

    // --- 4. ROUE ET ADMIN ---
    function ouvrirAdmin() {
        if(prompt("Code Admin:") === "2026") {
            document.getElementById('adminModal').classList.add('active');
            refreshAdminList();
        }
    }

    function ajouterProduitAdmin() {
        const n = document.getElementById('adm-name').value;
        const p = document.getElementById('adm-price').value;
        const i = document.getElementById('adm-img').value;
        if(!n || !p || !i) return;
        products.push({id: Date.now(), name: n, price: parseInt(p), images: [i], cat: "autres", enStock: true, description: ""});
        localStorage.setItem('latyfa_db', JSON.stringify(products));
        refreshAdminList(); render();
    }

    function refreshAdminList() {
        document.getElementById('admin-list').innerHTML = products.map(p => `
            <div class="flex justify-between p-2 bg-white border rounded text-xs">
                <span>${p.name}</span>
                <button onclick="supprimerProduit(${p.id})" class="text-red-500">Suppr.</button>
            </div>
        `).join('');
    }

    function supprimerProduit(id) {
        products = products.filter(x => x.id !== id);
        localStorage.setItem('latyfa_db', JSON.stringify(products));
        refreshAdminList(); render();
    }

    // --- 5. INITIALISATION ---
    window.addEventListener('load', () => {
        setTimeout(() => document.getElementById('loader').classList.add('loader-hidden'), 1000);
        render();
        updateCartCount();
        let vc = localStorage.getItem('latyfa_vc') || 1450;
        vc++; localStorage.setItem('latyfa_vc', vc);
        document.getElementById('visitor-count').innerText = vc.toLocaleString();
    });

    setInterval(() => {
        const diff = new Date("Feb 14, 2026 00:00:00").getTime() - new Date().getTime();
        const el = document.getElementById('countdown');
        if(diff <= 0) { el.innerText = "PROMO ACTIV√âE !"; return; }
        const h = Math.floor((diff % 86400000) / 3600000);
        const m = Math.floor((diff % 3600000) / 60000);
        const s = Math.floor((diff % 60000) / 1000);
        el.innerText = `${h}h ${m}m ${s}s`;
    }, 1000);
</script>

</body>
</html>
