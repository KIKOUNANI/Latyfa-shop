<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Latyfa Shop - Luxe & Sourcing</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #fff; color: #000; overflow-x: hidden; }
        .font-black { font-family: 'Archivo Black', sans-serif; }
        
        /* Animations Couches */
        .layer { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 100; align-items: center; justify-content: center; padding: 20px; backdrop-filter: blur(8px); }
        .layer.active { display: flex; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Loader */
        #loader { display: none; position: fixed; inset: 0; background: white; z-index: 10000; align-items: center; justify-content: center; flex-direction: column; }
        .spinner { width: 50px; height: 50px; border: 5px solid #f3f3f3; border-top: 5px solid #ff4d00; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* Menu Lat√©ral */
        #side-menu { position: fixed; top: 0; left: -100%; width: 85%; height: 100%; background: white; z-index: 200; transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1); }
        #side-menu.open { left: 0; }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        /* Style Boutons Cat√©gories (Style Alibaba) */
        .cat-btn.active { background-color: #000; color: #fff; border-color: #000; }

        .animate-marquee { display: inline-block; animation: marquee 20s linear infinite; }
        @keyframes marquee { from { transform: translateX(100%); } to { transform: translateX(-100%); } }
    </style>
</head>
<body class="pb-10">

    <div id="loader">
        <div class="spinner"></div>
        <p class="mt-4 font-black text-[10px] uppercase tracking-widest text-orange-600 italic">Validation...</p>
    </div>

    <div class="bg-black text-white py-2 overflow-hidden whitespace-nowrap border-b border-white/10">
        <div class="inline-block animate-marquee uppercase text-[10px] font-black tracking-tighter italic">
            ‚ú® Latyfa Shop : Le Luxe √† votre port√©e ‚Äî Livraison Rapide ‚Äî Sourcing ‚ú®
        </div>
    </div>

    <header class="sticky top-0 bg-white/80 backdrop-blur-md z-50 px-6 py-5 flex justify-between items-center border-b border-gray-100">
        <button onclick="toggleMenu()" class="text-2xl">‚ò∞</button>
        <h1 class="font-black text-2xl tracking-tighter italic uppercase">LATYFA<span class="text-orange-600">.</span></h1>
        <button onclick="openCart()" class="relative">
            <span class="text-2xl">üõçÔ∏è</span>
            <span id="cart-count" class="absolute -top-1 -right-1 bg-orange-600 text-white text-[9px] font-black px-1.5 py-0.5 rounded-full shadow-lg">0</span>
        </button>
    </header>

    <div id="side-menu" class="p-10 flex flex-col shadow-2xl">
        <button onclick="toggleMenu()" class="text-left text-3xl mb-12">‚úï</button>
        <nav class="space-y-8 flex-1">
            <button onclick="location.reload()" class="block text-3xl font-black italic uppercase text-orange-600">Accueil</button>
            <button onclick="openInfo('about')" class="block text-2xl font-black italic uppercase text-left">√Ä Propos</button>
            <button onclick="openInfo('policy')" class="block text-2xl font-black italic uppercase text-left">Livraison</button>
            <button onclick="openInfo('condition')" class="block text-2xl font-black italic uppercase text-left">Retours</button>
        </nav>
    </div>

    <div class="flex gap-3 overflow-x-auto px-6 py-6 no-scrollbar">
        <button onclick="filterProducts('Tous')" class="cat-btn active whitespace-nowrap px-6 py-2.5 rounded-full text-[10px] font-black uppercase tracking-widest border-2 border-gray-100 bg-gray-50 text-gray-400 transition-all">Tous</button>
        <button onclick="filterProducts('Bijoux')" class="cat-btn whitespace-nowrap px-6 py-2.5 rounded-full text-[10px] font-black uppercase tracking-widest border-2 border-gray-100 bg-gray-50 text-gray-400 transition-all">Bijoux</button>
        <button onclick="filterProducts('Sourcing')" class="cat-btn whitespace-nowrap px-6 py-2.5 rounded-full text-[10px] font-black uppercase tracking-widest border-2 border-gray-100 bg-gray-50 text-gray-400 transition-all">Sourcing</button>
    </div>

    <main class="p-4 grid grid-cols-2 gap-4" id="product-grid"></main>

    <div id="modal-product" class="layer">
        <div class="bg-white w-full max-w-md rounded-[40px] overflow-hidden relative shadow-2xl">
            <button onclick="closeModals()" class="absolute top-6 right-6 z-50 bg-white/80 backdrop-blur w-10 h-10 rounded-full flex items-center justify-center shadow-xl font-bold">‚úï</button>
            
            <div id="p-images" class="flex overflow-x-auto snap-x snap-mandatory no-scrollbar h-[380px] bg-gray-100"></div>
            
            <div class="p-8">
                <h2 id="p-title" class="font-black text-2xl mb-1 italic uppercase tracking-tighter"></h2>
                <p id="p-price" class="text-orange-600 font-black text-xl mb-6"></p>

                <div class="space-y-6">
                    <div>
                        <p class="text-[10px] font-black text-gray-400 uppercase mb-3 px-1">Couleur</p>
                        <div id="p-colors" class="flex gap-3"></div>
                    </div>
                    <div>
                        <p class="text-[10px] font-black text-gray-400 uppercase mb-3 px-1">Taille</p>
                        <div id="p-sizes" class="flex gap-3"></div>
                    </div>
                </div>

                <button onclick="addToCart()" class="w-full bg-black text-white py-5 mt-8 rounded-[20px] font-black text-sm uppercase tracking-widest shadow-xl hover:bg-orange-600 transition-all active:scale-95">Ajouter au panier</button>
            </div>
        </div>
    </div>

    <div id="modal-cart" class="layer">
        <div class="bg-white w-full max-w-md rounded-[40px] p-8 relative shadow-2xl max-h-[90vh] overflow-y-auto no-scrollbar">
            <button onclick="closeModals()" class="absolute top-6 right-6 text-xl font-bold">‚úï</button>
            <h2 class="font-black text-2xl mb-8 italic uppercase tracking-tighter">Mon Panier</h2>
            
            <div id="cart-items" class="space-y-4 mb-8"></div>

            <div class="bg-gray-50 p-5 rounded-[24px] mb-6">
                <div class="flex gap-2">
                    <input type="text" id="promo-code" placeholder="CODE PROMO" class="flex-1 bg-white border-none p-4 rounded-xl text-xs font-bold uppercase outline-none shadow-sm">
                    <button onclick="applyPromo()" class="bg-black text-white px-5 rounded-xl text-[10px] font-black uppercase">V√©rifier</button>
                </div>
                <p id="promo-msg" class="text-[9px] mt-2 font-bold text-center"></p>
            </div>

            <div class="mb-6">
                <p class="text-[10px] font-black text-gray-400 uppercase mb-3 px-1">üìç Zone de livraison</p>
                <select id="delivery-zone" onchange="updateCartUI()" class="w-full p-5 bg-gray-50 rounded-[20px] text-[11px] font-bold outline-none border-2 border-transparent focus:border-black appearance-none shadow-sm">
                    <option value="0">--- CHOISIR MA COMMUNE ---</option>
                    <option value="1000">Zone A (Abobo, Cocody, Plateau) - 1000 F</option>
                    <option value="2000">Zone B (Yopougon, Koumassi) - 2000 F</option>
                    <option value="3000">Ext√©rieur (Bassam, Int√©rieur) - 3000 F</option>
                </select>
            </div>

            <div class="space-y-3 mb-8">
                <input type="text" id="c-nom" placeholder="VOTRE NOM COMPLET" class="w-full p-5 bg-gray-50 rounded-[20px] text-sm font-bold outline-none shadow-sm">
                <input type="tel" id="c-tel" placeholder="NUM√âRO WHATSAPP" class="w-full p-5 bg-gray-50 rounded-[20px] text-sm font-bold outline-none shadow-sm">
            </div>

            <div class="border-t pt-6 flex justify-between items-end mb-8">
                <div>
                    <p class="text-[10px] font-black text-gray-400 uppercase mb-1">Total Final</p>
                    <p id="old-total" class="text-xs text-gray-400 line-through"></p>
                    <p id="final-total" class="text-4xl font-black text-orange-600 italic tracking-tighter">0 F</p>
                </div>
            </div>

            <button onclick="handleCheckout()" class="w-full bg-orange-600 text-white py-6 rounded-[24px] font-black text-sm uppercase tracking-widest shadow-xl shadow-orange-100 active:scale-95 transition-all">Commander sur WhatsApp</button>
        </div>
    </div>

    <div id="modal-info" class="layer">
        <div class="bg-white w-full max-w-md rounded-[40px] p-10 relative shadow-2xl text-center">
            <button onclick="closeModals()" class="absolute top-6 right-6 text-xl">‚úï</button>
            <h2 id="info-title" class="font-black text-2xl mb-6 text-orange-600 uppercase italic tracking-tighter"></h2>
            <div id="info-content" class="text-[14px] leading-relaxed text-gray-600 font-medium"></div>
        </div>
    </div>

    <script>
        const products = [
            {
                id: 1,
                nom: "Parure de Luxe Or",
                prix: 7000,
                categorie: "Bijoux",
                images: [
                    "https://i.ibb.co/XfXG0YV/image-2025-02-05-181519782.png",
                    "https://i.ibb.co/XfXG0YV/image-2025-02-05-181519782.png"
                ],
                colors: ["Or", "Argent"],
                sizes: ["Unique"]
            }
        ];

        let cart = [];
        let selectedProduct = null;
        let sColor = "";
        let sSize = "";
        let dPercent = 0;
        let dFixed = 0;
        let currentCat = "Tous";

        function render() {
            const grid = document.getElementById('product-grid');
            const filtered = currentCat === "Tous" ? products : products.filter(p => p.categorie === currentCat);
            
            grid.innerHTML = filtered.map(p => `
                <div class="group" onclick="openProduct(${p.id})">
                    <div class="relative aspect-[3/4] rounded-[35px] overflow-hidden bg-gray-100 mb-4 shadow-sm">
                        <img src="${p.images[0]}" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700">
                    </div>
                    <h3 class="font-black text-[11px] uppercase tracking-tighter italic leading-none px-2">${p.nom}</h3>
                    <p class="text-orange-600 font-black text-[14px] mt-1 px-2 italic">${p.prix.toLocaleString()} F</p>
                </div>
            `).join('');
        }

        function filterProducts(cat) {
            currentCat = cat;
            document.querySelectorAll('.cat-btn').forEach(btn => {
                btn.classList.toggle('active', btn.innerText === cat);
            });
            render();
        }

        function toggleMenu() { document.getElementById('side-menu').classList.toggle('open'); }
        function closeModals() { document.querySelectorAll('.layer').forEach(l => l.classList.remove('active')); }

        function openProduct(id) {
            selectedProduct = products.find(p => p.id === id);
            sColor = selectedProduct.colors[0];
            sSize = selectedProduct.sizes[0];
            
            document.getElementById('p-title').innerText = selectedProduct.nom;
            document.getElementById('p-price').innerText = selectedProduct.prix.toLocaleString() + " F";
            
            // Correction affichage images
            document.getElementById('p-images').innerHTML = selectedProduct.images.map(img => `
                <img src="${img}" class="w-full h-full object-cover snap-start flex-shrink-0">
            `).join('');
            
            document.getElementById('p-colors').innerHTML = selectedProduct.colors.map(c => `
                <button onclick="sColor='${c}'; openProduct(${id})" class="px-5 py-2.5 border-2 rounded-2xl text-[10px] font-black uppercase transition-all ${sColor===c?'border-black bg-black text-white shadow-lg':'border-gray-100 bg-gray-50 text-gray-400'}">${c}</button>
            `).join('');

            document.getElementById('p-sizes').innerHTML = selectedProduct.sizes.map(s => `
                <button onclick="sSize='${s}'; openProduct(${id})" class="px-5 py-2.5 border-2 rounded-2xl text-[10px] font-black uppercase transition-all ${sSize===s?'border-black bg-black text-white shadow-lg':'border-gray-100 bg-gray-50 text-gray-400'}">${s}</button>
            `).join('');
            
            document.getElementById('modal-product').classList.add('active');
        }

        function addToCart() {
            cart.push({ ...selectedProduct, sColor, sSize });
            updateCartUI();
            closeModals();
        }

        function openCart() {
            document.getElementById('modal-cart').classList.add('active');
            updateCartUI();
        }

        function updateCartUI() {
            const subtotal = cart.reduce((s, i) => s + i.prix, 0);
            const deliveryFee = parseInt(document.getElementById('delivery-zone').value) || 0;
            let reduction = (subtotal * (dPercent / 100)) + dFixed;
            let finalPrice = Math.max(0, subtotal - reduction) + deliveryFee;

            document.getElementById('cart-count').innerText = cart.length;
            document.getElementById('cart-items').innerHTML = cart.map((i, idx) => `
                <div class="flex justify-between items-center bg-gray-50 p-5 rounded-[20px]">
                    <div>
                        <p class="font-black text-[10px] uppercase italic">${i.nom}</p>
                        <p class="text-[9px] text-gray-400 font-bold uppercase">${i.sColor}</p>
                    </div>
                    <button onclick="removeFromCart(${idx})" class="text-red-500 font-bold">‚úï</button>
                </div>
            `).join('');

            document.getElementById('final-total').innerText = finalPrice.toLocaleString() + " F";
            document.getElementById('old-total').innerText = reduction > 0 ? (subtotal + deliveryFee).toLocaleString() + " F" : "";
        }

        function removeFromCart(idx) { cart.splice(idx, 1); updateCartUI(); }

        function handleCheckout() {
            const nom = document.getElementById('c-nom').value;
            const tel = document.getElementById('c-tel').value;
            const zone = document.getElementById('delivery-zone');
            if(!nom || !tel || zone.value === "0") return alert("Infos manquantes !");
            
            document.getElementById('loader').style.display = 'flex';
            setTimeout(() => {
                const msg = `üåü COMMANDE LATYFA üåü\nüë§ CLIENT: ${nom}\nüìç ZONE: ${zone.options[zone.selectedIndex].text}\nüí∞ TOTAL: ${document.getElementById('final-total').innerText}\nüì¶ ARTICLES:\n${cart.map(i => `- ${i.nom}`).join('\n')}`;
                window.open(`https://wa.me/2250709002881?text=${encodeURIComponent(msg)}`);
                document.getElementById('loader').style.display = 'none';
            }, 2000);
        }

        function openInfo(type) {
            const info = {
                about: ["√Ä Propos", "Latyfa Shop : Luxe et Sourcing de qualit√©. Dirig√© par Mme Traor√© Djeneba."],
                policy: ["Livraison", "Abidjan (24h), Int√©rieur (48h)."],
                condition: ["Retours", "√âchange sous 72h si d√©faut de fabrication."]
            };
            document.getElementById('info-title').innerText = info[type][0];
            document.getElementById('info-content').innerText = info[type][1];
            document.getElementById('modal-info').classList.add('active');
            toggleMenu();
        }

        render();
    </script>
</body>
</html>
